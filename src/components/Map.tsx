import { useEffect, useRef } from 'react'
import L from 'leaflet'
import 'leaflet/dist/leaflet.css'
import styles from './Map.module.scss'

// const cate = [
//   { id: 1, name: 'BEAUX_ARTS', publicName: 'Beaux-arts' }, //picture
//   { id: 2, name: 'MUSIQUE_ENREGISTREE', publicName: 'Musique enregistrée' }, //music
//   { id: 3, name: 'LIVRE', publicName: 'Livre' }, //library
//   { id: 4, name: 'PRATIQUE_ART', publicName: 'Pratique artistique' }, // art supply
//   { id: 5, name: 'FILM', publicName: 'Films, vidéos' }, // cinema
//   { id: 6, name: 'MUSIQUE_LIVE', publicName: 'Musique live' }, //micropohone
//   { id: 7, name: 'CONFERENCE', publicName: 'Conférences, rencontres' }, // center
//   { id: 8, name: 'INSTRUMENT', publicName: 'Instrument de musique' }, // piano
//   { id: 9, name: 'JEU', publicName: 'Jeux' }, // puzzle
//   {
//     id: 10,
//     name: 'MUSEE',
//     publicName: 'Musée, patrimoine, architecture, arts visuels',
//   }, // museum
//   { id: 11, name: 'CARTE_JEUNES', publicName: 'Carte jeunes' }, // cards
//   { id: 12, name: 'CINEMA', publicName: 'Cinéma' }, // cinema
//   { id: 13, name: 'SPECTACLE', publicName: 'Spectacle vivant' }, // theater
// ]

export interface Marker {
  latitude: number
  longitude: number
  name: string
  address: string
  placeType:
    | 'BEAUX_ARTS'
    | 'MUSIQUE_ENREGISTREE'
    | 'LIVRE'
    | 'PRATIQUE_ART'
    | 'FILM'
    | 'MUSIQUE_LIVE'
    | 'CONFERENCE'
    | 'INSTRUMENT'
    | 'JEU'
    | 'MUSEE'
    | 'CARTE_JEUNES'
    | 'CINEMA'
    | 'SPECTACLE'
}
interface MapProps {
  latitude?: number
  longitude?: number
  markers?: Marker[]
}

function Map({
  latitude = 48.8669667,
  longitude = 2.3116348,
  markers,
}: MapProps) {
  const mapRef = useRef<HTMLDivElement | string>('')

  useEffect(() => {
    const map = L.map(mapRef.current, { scrollWheelZoom: false }).setView(
      [latitude, longitude],
      13
    )
    const pictureIcon = L.divIcon({
      html: `<svg
          width="18"
          height="18"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4 10C4 8.89228 4.89228 8 6 8H31C31.5523 8 32 7.55228 32 7C32 6.44772 31.5523 6 31 6H6C3.78772 6 2 7.78772 2 10V29.9997V29.9998V38C2 40.2123 3.78772 42 6 42H36.994H37.006H42C44.2123 42 46 40.2123 46 38V10C46 7.78772 44.2123 6 42 6H38.79C38.2377 6 37.79 6.44772 37.79 7C37.79 7.55228 38.2377 8 38.79 8H42C43.1077 8 44 8.89228 44 10V33.2806L38.035 28.3775C36.8497 27.4026 35.1089 27.4769 34.0129 28.5729L32.2929 30.2929C31.9024 30.6834 31.9024 31.3166 32.2929 31.7071C32.6834 32.0976 33.3166 32.0976 33.7071 31.7071L35.4271 29.9871C35.791 29.6232 36.3699 29.5974 36.7646 29.9222L43.955 35.8325C43.9698 35.8447 43.9848 35.8563 44 35.8674V38C44 39.1077 43.1077 40 42 40H37.4142L22.7206 25.3064C22.7112 25.2967 22.7017 25.2871 22.6919 25.2777L16.1871 18.7729C14.975 17.5608 13.008 17.6042 11.8529 18.8642L11.8529 18.8643L4 27.4296V10ZM15.3252 27.22C16.9018 27.2124 18.643 26.8528 20.4179 25.8321L14.7729 20.1871C14.3651 19.7793 13.7121 19.7959 13.3272 20.2157L13.3271 20.2158L8.69767 25.2652C8.7682 25.3115 8.87077 25.3766 9.00302 25.4552C9.29356 25.6277 9.72519 25.8634 10.2732 26.1049C10.7786 26.3276 11.0078 26.9179 10.7851 27.4233C10.5624 27.9287 9.97211 28.1578 9.46672 27.9351C8.83478 27.6566 8.3314 27.3824 7.98194 27.1749C7.80703 27.071 7.67015 26.9836 7.57443 26.9202C7.52655 26.8886 7.48892 26.8629 7.46194 26.8442L7.42946 26.8214L7.41929 26.8141L7.41574 26.8116L7.41347 26.8099L7.90972 26.1247L7.90944 26.125C7.41322 26.8098 7.41334 26.8099 7.41347 26.8099C7.38685 26.7907 7.36146 26.7703 7.33732 26.749L4 30.3891V38C4 39.1077 4.89228 40 6 40H34.5858L21.8748 27.289C19.624 28.7055 17.3698 29.2101 15.3349 29.22C14.7827 29.2227 14.3328 28.7771 14.3301 28.2249C14.3274 27.6726 14.7729 27.2227 15.3252 27.22ZM30 17C30 15.8954 30.8954 15 32 15C33.1046 15 34 15.8954 34 17C34 18.1046 33.1046 19 32 19C30.8954 19 30 18.1046 30 17ZM32 13C29.7909 13 28 14.7909 28 17C28 19.2091 29.7909 21 32 21C34.2091 21 36 19.2091 36 17C36 14.7909 34.2091 13 32 13Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const musicIcon = L.divIcon({
      html: `<svg
          width="18"
          height="18"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M35.6965 2.21695C37.7306 1.42656 40 2.88841 40 5.10101V32.751C40 32.8416 39.988 32.9293 39.9654 33.0128C39.6633 35.6152 37.4105 37.6117 34.7111 37.6117C31.8085 37.6117 29.4224 35.3033 29.4224 32.4155C29.4224 29.5276 31.8085 27.2193 34.7111 27.2193C35.9461 27.2193 37.0876 27.6372 37.9916 28.3398V5.10101C37.9916 4.35709 37.1984 3.78497 36.4264 4.08406L36.4253 4.0845L18.6106 11.0685C18.598 11.0733 18.5885 11.0813 18.5823 11.0901C18.5788 11.0952 18.5776 11.0987 18.5773 11.0999V14.379L33.8092 8.41477C34.3254 8.21262 34.9082 8.46638 35.1108 8.98157C35.3133 9.49675 35.059 10.0783 34.5428 10.2804L18.5773 16.5319V32.751C18.5773 33.3044 18.1277 33.7531 17.5731 33.7531C17.0185 33.7531 16.5689 33.3044 16.5689 32.751V11.0987C16.5689 10.2552 17.101 9.50387 17.8827 9.20058L17.8853 9.19954L35.6937 2.21805L35.6965 2.21695ZM31.4307 32.4155C31.4307 30.6706 32.8811 29.2234 34.7111 29.2234C36.541 29.2234 37.9914 30.6706 37.9914 32.4155C37.9914 34.1604 36.541 35.6076 34.7111 35.6076C32.8811 35.6076 31.4307 34.1604 31.4307 32.4155ZM10.0084 40.8038C10.0084 39.0589 11.4588 37.6117 13.2887 37.6117C15.1187 37.6117 16.5691 39.0589 16.5691 40.8038C16.5691 42.5487 15.1187 43.9959 13.2887 43.9959C11.4588 43.9959 10.0084 42.5487 10.0084 40.8038ZM13.2887 35.6076C10.3861 35.6076 8 37.9159 8 40.8038C8 43.6916 10.3861 46 13.2887 46C16.1913 46 18.5774 43.6916 18.5774 40.8038C18.5774 37.9159 16.1913 35.6076 13.2887 35.6076Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const libraryIcon = L.divIcon({
      html: `<svg
          width="18"
          height="18"
          viewBox="0 0 48 48"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M44.8988 15.7013C44.7228 15.7013 44.5358 15.6574 44.3708 15.5697L24 4.49911L3.62916 15.5697C3.10119 15.8547 2.43023 15.6684 2.13324 15.1313C1.84726 14.6052 2.03425 13.9365 2.57322 13.6406L24 2L45.4268 13.6406C45.9657 13.9256 46.1527 14.5942 45.8668 15.1313C45.6688 15.493 45.2838 15.7013 44.8988 15.7013ZM24.0001 45.9975C23.6152 45.9975 23.2192 45.8659 22.9112 45.6029C22.2842 45.0767 18.5115 42.5119 5.75218 44.167C5.05922 44.2547 4.37726 44.0574 3.88229 43.6189C3.43131 43.2243 3.16733 42.6653 3.16733 42.0844V22.0038C3.16733 21.9513 3.17108 21.8996 3.17834 21.8491V18.5073C3.17834 17.4441 3.99229 16.5233 5.03723 16.4247C11.7139 15.778 20.3594 15.6355 23.6812 18.6388C23.8022 18.7484 23.9122 18.858 24.0222 18.9786C24.1321 18.858 24.2421 18.7484 24.3631 18.6388C27.6849 15.6355 36.3305 15.778 43.0071 16.4247C44.052 16.5233 44.866 17.4441 44.866 18.5073V41.6569C44.866 42.2379 44.602 42.7969 44.151 43.1915C43.7 43.5751 43.1501 43.7724 42.5781 43.7724C42.4773 43.7724 42.3858 43.7632 42.2866 43.7532L42.2865 43.7532L42.2591 43.7505C41.6541 43.6737 41.2362 43.1257 41.3132 42.5228C41.3902 41.92 41.9401 41.5035 42.5451 41.5802C42.5891 41.5802 42.6221 41.5802 42.6441 41.5692V18.595C34.0316 17.7729 27.9049 18.3757 25.8261 20.261C25.3421 20.6995 25.1111 21.1927 25.1111 21.7956L25.1 21.7956V43.0472C26.9778 42.1432 30.593 41.1525 37.2324 41.5035C37.8374 41.5363 38.2993 42.0515 38.2773 42.6544C38.2443 43.2572 37.7164 43.7176 37.1224 43.6957C28.5979 43.2463 25.771 45.0439 25.1001 45.6138C24.7811 45.8659 24.3851 45.9975 24.0001 45.9975ZM22.9076 21.6676C22.8768 21.1237 22.6455 20.6782 22.1963 20.261C20.1174 18.3757 13.9907 17.7729 5.37821 18.595V23.0013C5.37821 23.0538 5.37446 23.1055 5.3672 23.1561V41.9967C5.38919 42.0077 5.42218 42.0077 5.46615 42.0077H5.4662C15.5543 40.688 20.545 41.8968 22.9001 43.0396V21.7956C22.9001 21.7523 22.9027 21.7096 22.9076 21.6676ZM19.1053 23.9987C19.1933 24.0206 19.2703 24.0316 19.3583 24.0316C19.8532 24.0316 20.3042 23.6918 20.4252 23.1876C20.5682 22.6066 20.2052 22.0147 19.6113 21.8723C17.1364 21.2804 12.1757 20.9844 8.75487 21.4777C8.1499 21.5653 7.73193 22.1134 7.81992 22.7163C7.90792 23.3191 8.44689 23.7247 9.06285 23.6479C12.1867 23.1985 16.8614 23.4726 19.1053 23.9987ZM28.6417 24.0316C28.1468 24.0316 27.6958 23.6918 27.5748 23.1876C27.4318 22.5957 27.8058 22.0038 28.3887 21.8723C30.8746 21.2914 35.8243 20.9954 39.2451 21.4777C39.8501 21.5654 40.2681 22.1244 40.1801 22.7163C40.0921 23.3191 39.5531 23.7357 38.9371 23.648C35.8133 23.1986 31.1386 23.4726 28.8947 23.9987C28.8067 24.0207 28.7297 24.0316 28.6417 24.0316ZM27.5748 27.3528C27.6958 27.8571 28.1468 28.1968 28.6417 28.1968C28.7208 28.1968 28.7911 28.188 28.8684 28.1782L28.8947 28.1749L28.9707 28.1571C30.0358 27.9077 31.3621 27.5971 33.3495 27.7255C33.9764 27.7694 34.4824 27.298 34.5154 26.6952C34.5484 26.0923 34.0864 25.5662 33.4815 25.5333C31.1276 25.3908 29.5437 25.7635 28.3887 26.0375C27.8058 26.1691 27.4318 26.761 27.5748 27.3528ZM19.3583 28.1968C19.2703 28.1968 19.1933 28.1858 19.1053 28.1639C16.8614 27.6377 12.1867 27.3637 9.06285 27.8131C8.44689 27.8898 7.90792 27.4843 7.81992 26.8814C7.73193 26.2786 8.1499 25.7305 8.75487 25.6428C12.1757 25.1496 17.1364 25.4455 19.6113 26.0374C20.2052 26.1799 20.5682 26.7718 20.4252 27.3528C20.3042 27.857 19.8532 28.1968 19.3583 28.1968ZM7.81992 31.0467C7.89692 31.5947 8.36989 31.9893 8.90886 31.9893C8.95286 31.9893 9.00786 31.9784 9.06285 31.9674C10.8008 31.7153 13.2426 31.6715 15.6075 31.8468C16.2014 31.8907 16.7404 31.4413 16.7844 30.8384C16.8284 30.2356 16.3774 29.7094 15.7725 29.6656C13.2206 29.4902 10.6688 29.5341 8.75487 29.8081C8.1499 29.8958 7.73193 30.4438 7.81992 31.0467Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const artIcon = L.divIcon({
      html: `<svg
          width="18"
          height="18"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14.8448 3.00979C15.1565 3.05372 15.4293 3.242 15.5811 3.51793L17.2335 6.52219C17.2773 6.60187 17.3093 6.68551 17.3298 6.77086C17.5351 6.89022 17.721 7.04058 17.8758 7.21431L17.8775 7.21628L21.8425 11.6899C21.8447 11.6923 21.8468 11.6947 21.849 11.6972L23.2205 13.2447C23.5868 13.6579 23.5488 14.29 23.1358 14.6564C22.7227 15.0228 22.091 14.9848 21.7247 14.5716L21.0552 13.8162L16.4924 18.4036C16.103 18.7951 15.4701 18.7967 15.0788 18.4071C14.6875 18.0176 14.6859 17.3844 15.0753 16.9929L19.7263 12.3168L16.3835 8.54513C16.3527 8.51074 16.3221 8.49121 16.2991 8.48092L8.45917 16.3632C8.46894 16.3885 8.48869 16.4227 8.52657 16.457L8.52734 16.4577L17.2226 24.2452L17.2253 24.2476L25.1778 16.2566C25.5673 15.8652 26.2002 15.8638 26.5914 16.2535C26.9826 16.6432 26.984 17.2763 26.5945 17.6677L9.48684 34.8583L13.5185 38.9117L34.9147 17.3999L30.8829 13.3463L29.4444 14.7925C29.055 15.184 28.4221 15.1856 28.0308 14.796C27.6395 14.4065 27.6379 13.7733 28.0273 13.3818L30.1711 11.2264L30.1743 11.2232L34.241 7.13455L35.082 6.28903C37.1881 4.17147 40.5565 3.61727 42.5818 5.64008L42.5841 5.64241C44.6074 7.67663 44.0433 11.0574 41.941 13.1711L41.1 14.0166L37.0334 18.1052L37.0318 18.1068L32.1049 23.0603C32.1508 23.0965 32.1941 23.1373 32.2343 23.1826L39.0392 30.8597C39.6876 31.5819 39.8754 32.7934 39.0725 33.613C39.0794 33.636 39.0957 33.6699 39.1309 33.7054L39.8994 34.478C39.9207 34.499 39.9415 34.5205 39.9619 34.5425C40.7531 33.8206 41.9891 33.8433 42.7524 34.6107L44.4047 36.272C45.1919 37.0634 45.2061 38.3436 44.4011 39.1387L39.1607 44.4074C38.3741 45.1982 37.0855 45.1982 36.299 44.4074L34.6466 42.7461C33.8969 41.9924 33.8643 40.7821 34.5488 39.9886C34.5248 39.9665 34.5013 39.944 34.4784 39.9209L33.6985 39.1368C33.6717 39.1092 33.6463 39.0948 33.6275 39.0874C32.831 39.8744 31.6237 39.7155 30.8944 39.0691L25.2413 34.417C24.8149 34.0662 24.7536 33.436 25.1043 33.0095C25.455 32.583 26.0849 32.5216 26.5112 32.8725L28.6602 34.6409L32.7865 30.4922C33.1759 30.1007 33.8088 30.0992 34.2001 30.4887C34.5914 30.8783 34.593 31.5114 34.2036 31.9029L30.211 35.9171L32.1808 37.538C32.1938 37.5488 32.2066 37.5599 32.2191 37.5713C32.2413 37.5915 32.2618 37.6029 32.2777 37.6093C33.1208 36.7802 34.405 36.9996 35.1271 37.7377L35.8955 38.5102C35.9204 38.5353 35.9441 38.5504 35.9632 38.5593L38.5414 35.9672C38.533 35.948 38.5184 35.9243 38.4937 35.9001L38.4855 35.8921L37.7138 35.1161C36.9977 34.3961 36.7644 33.1213 37.5952 32.263C37.5883 32.2456 37.5754 32.2221 37.5517 32.1958L37.5459 32.1894L30.7385 24.5096C30.7266 24.4962 30.7152 24.4825 30.7041 24.4687L14.2484 41.0133C14.13 41.1398 13.9787 41.2356 13.8071 41.2873L6.04987 43.625C5.69811 43.731 5.31658 43.6354 5.05626 43.3761C4.79594 43.1168 4.69879 42.7355 4.80326 42.3831L7.10727 34.6121C7.14982 34.4439 7.23668 34.2847 7.36784 34.1529L15.8129 25.6669L7.19202 17.9461L7.18974 17.9441C7.01696 17.7885 6.86762 17.6019 6.74919 17.3961C6.66437 17.3753 6.58128 17.343 6.50215 17.299L3.51403 15.6377C3.24027 15.4855 3.05364 15.2137 3.00983 14.9035C2.96603 14.5932 3.07011 14.2804 3.29103 14.0583L13.9968 3.29466C14.2189 3.07141 14.5331 2.96586 14.8448 3.00979ZM15.0494 6.90198C15.0077 6.93736 14.9669 6.97508 14.927 7.0152L6.99167 14.9934C6.95182 15.0335 6.91435 15.0745 6.87921 15.1163L6.81241 15.1834L5.64031 14.5318L14.4728 5.65154L15.121 6.82998L15.0494 6.90198ZM36.4991 7.69973C38.1125 6.07753 40.1851 6.074 41.1682 7.05428C42.1516 8.04469 42.1413 10.1342 40.5239 11.7604L40.3914 11.8936L38.388 9.87932L38.3791 9.87022L36.3596 7.8399L36.4991 7.69973ZM34.9495 9.25764L32.293 11.9285L36.3248 15.9821L38.9813 13.3113L36.9619 11.281L36.953 11.2719L34.9495 9.25764ZM37.3307 40.0398C37.2793 40.0901 37.2265 40.1365 37.1724 40.1791L36.0637 41.2937L36.0623 41.2954L36.0615 41.2967L36.0606 41.2987C36.0593 41.3019 36.0579 41.3075 36.0579 41.3146C36.0579 41.3217 36.0593 41.3273 36.0606 41.3305C36.0616 41.3331 36.0625 41.3342 36.0637 41.3354L37.7161 42.9967L37.7169 42.9975C37.7176 42.9981 37.7181 42.9984 37.719 42.9987C37.7199 42.9991 37.7211 42.9995 37.7227 42.9998C37.7247 43.0002 37.727 43.0005 37.7298 43.0005C37.735 43.0005 37.7388 42.9995 37.7407 42.9987L37.7422 42.9979L37.7436 42.9967L42.9963 37.7156L42.9985 37.7134L42.9999 37.7116C42.9999 37.7115 43.0006 37.7102 43.0007 37.7091L43.0009 37.7072C43.0009 37.7049 43.0004 37.7019 42.999 37.6985C42.9979 37.6957 42.9952 37.6903 42.9876 37.6827L41.3352 36.0214L41.3338 36.0201L41.3323 36.0194L41.3295 36.0185C41.3274 36.018 41.3247 36.0176 41.3215 36.0176C41.3164 36.0176 41.3126 36.0186 41.3107 36.0194C41.3095 36.0199 41.309 36.0202 41.3078 36.0214L40.166 37.1693C40.1192 37.2295 40.0677 37.288 40.0116 37.3444L37.3307 40.0398ZM8.55609 36.7586L7.70087 39.6431L8.76881 40.7169L11.6342 39.8533L8.55609 36.7586Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const microphoneIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            d="M13.9079 4.87816C13.8288 5.43595 14.2209 5.95164 14.7836 6.02998C16.3819 6.25253 17.927 6.97705 19.1566 8.1975C19.0928 8.35885 19.0038 8.57369 18.8884 8.82963C18.6134 9.43975 18.1919 10.2764 17.6091 11.1759C16.4326 12.9916 14.6603 14.9694 12.1993 15.9444C11.6717 16.1535 11.4149 16.7469 11.6257 17.27C11.8366 17.793 12.4352 18.0476 12.9628 17.8386C15.9852 16.6412 18.0503 14.2692 19.3403 12.2782C19.859 11.4777 20.2623 10.7235 20.5602 10.1052C21.4632 11.8426 21.6549 13.848 21.1367 15.7011C21.1338 15.7118 21.1309 15.7225 21.1283 15.7332C20.9455 15.8273 20.7728 15.9497 20.6167 16.1011L20.6136 16.1041L16.0798 20.5376L16.0778 20.5394C15.8323 20.778 15.6584 21.0599 15.5551 21.3597C14.1471 21.3754 12.3063 21.1921 10.6284 20.5201C8.72845 19.759 7.08068 18.3969 6.41313 15.9704C5.03494 10.9608 8.06314 7.94979 9.61131 6.87544C10.0768 6.55243 10.19 5.9165 9.86415 5.45505C9.53832 4.99361 8.89684 4.88139 8.43137 5.2044C6.55026 6.50979 2.7199 10.298 4.42806 16.5071C5.30369 19.69 7.51385 21.4725 9.85762 22.4113C12.012 23.2742 14.3138 23.4451 15.9378 23.3914C16.0155 23.4826 16.1021 23.5685 16.1978 23.6479L26.8733 32.6406C27.3063 33.0053 27.9556 32.953 28.3235 32.5238C28.6914 32.0946 28.6386 31.4509 28.2057 31.0862L17.5194 22.0845C17.4948 22.0642 17.4903 22.0231 17.5182 21.996L17.5215 21.9928L22.0552 17.5595L22.0559 17.5588C22.0666 17.5486 22.0755 17.544 22.0823 17.5416C22.0901 17.5387 22.0992 17.5372 22.109 17.5377C22.1274 17.5387 22.1451 17.5464 22.1608 17.5648L35.4619 33.5044C36.3441 34.5572 36.1827 35.5329 35.8355 35.8736L35.8266 35.8823C35.4769 36.2221 34.4831 36.3715 33.4337 35.4834L31.2406 33.6359C30.8076 33.2712 30.1584 33.3235 29.7905 33.7527C29.4225 34.1819 29.4753 34.8255 29.9082 35.1903L32.0978 37.0348L32.0986 37.0355C33.3076 38.0581 35.0479 38.5367 36.4194 37.918L42.2432 43.7007C42.6447 44.0993 43.2961 44.0998 43.6981 43.7019C44.1002 43.3039 44.1007 42.6581 43.6993 42.2595L37.8835 36.4848C38.5247 35.1314 38.0519 33.4036 37.0454 32.2019L37.0447 32.201L23.7438 16.2618L23.7415 16.259C23.5911 16.0801 23.4177 15.9322 23.2292 15.8159C23.9514 12.686 23.1 9.26606 20.6605 6.80403L20.6593 6.80285C19.0966 5.23085 17.1177 4.29519 15.0697 4.01004C14.5071 3.9317 13.9869 4.32037 13.9079 4.87816Z"
          />
          <path
            fill="currentColor"
            d="M22.822 22.6857C22.4193 23.0831 22.4178 23.7288 22.8186 24.1281L25.0099 26.3106C25.4107 26.7098 26.0621 26.7113 26.4648 26.314C26.8675 25.9166 26.8691 25.2709 26.4682 24.8717L24.2769 22.6891C23.8761 22.2899 23.2247 22.2884 22.822 22.6857Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const cinemaIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14.5435 19.9963H40.0763C42.2463 19.9963 43.9998 21.7844 43.9998 23.9973V28.977L44 28.998L43.9998 29.0191V40.0013C43.9998 42.2141 42.2463 44.0023 40.0763 44.0023H37.1337C36.592 44.0023 36.1528 43.5545 36.1528 43.002C36.1528 42.4496 36.592 42.0018 37.1337 42.0018H40.0763C41.1629 42.0018 42.0381 41.1093 42.0381 40.0013V29.998H24.3826C23.8409 29.998 23.4017 29.5503 23.4017 28.998C23.4017 28.4458 23.8409 27.998 24.3826 27.998H42.0381V23.9973C42.0381 22.8893 41.1629 21.9968 40.0763 21.9968H8.68846C7.60193 21.9968 6.72671 22.8893 6.72671 23.9973V27.9983H15.5546C16.0963 27.9983 16.5354 28.446 16.5354 28.9983C16.5354 29.5506 16.0963 29.9983 15.5546 29.9983H6.72671V40.0013C6.72671 41.1093 7.60193 42.0018 8.68846 42.0018H29.2867C29.8285 42.0018 30.2676 42.4496 30.2676 43.002C30.2676 43.5545 29.8285 44.0023 29.2867 44.0023H8.68846C6.51849 44.0023 4.76497 42.2141 4.76497 40.0013V28.9983V23.9973C4.76497 22.7592 5.31389 21.6541 6.17755 20.9207C5.56433 20.5067 5.1029 19.8623 4.93216 19.076L4.06899 15.085C3.90224 14.3048 4.03957 13.5046 4.46134 12.8345C4.88311 12.1543 5.55011 11.6742 6.3348 11.5041L27.3353 6.80297C27.8649 6.68294 28.3848 7.02302 28.5025 7.56316C28.6202 8.10329 28.2867 8.63343 27.757 8.75346L25.2162 9.32225L21.3457 16.4269L30.4593 14.3845L34.3315 7.2769L31.3176 7.95326C30.7879 8.07329 30.2681 7.7332 30.1504 7.19307C30.0326 6.65293 30.376 6.1228 30.9056 6.00277L39.5079 4.07229C41.1067 3.7122 42.6957 4.73245 43.0488 6.35286L43.912 10.3439C44.0787 11.1241 43.9414 11.9142 43.5196 12.5944C43.088 13.2846 42.4211 13.7547 41.6364 13.9348L14.5435 19.9963ZM36.8882 6.70312L33.0155 13.8117L41.2146 11.9743C41.4892 11.9142 41.7148 11.7542 41.862 11.5141C41.9993 11.2941 42.0483 11.024 41.9895 10.774L41.1263 6.78296C41.0086 6.24283 40.4691 5.90274 39.9198 6.02277L36.8882 6.70312ZM18.7894 16.9997L22.6603 9.8944L13.5083 11.9432C13.49 11.9966 13.467 12.0491 13.4392 12.1002L9.65171 19.0475L18.7894 16.9997ZM7.28451 19.2725C7.06713 19.1349 6.90355 18.9153 6.84486 18.6459L5.98169 14.6549C5.92284 14.4049 5.97188 14.1348 6.1092 13.9147C6.25633 13.6847 6.48193 13.5146 6.75658 13.4546L10.9705 12.5113L7.28451 19.2725Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const centerIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M24.4472 4.10557C24.1657 3.96481 23.8343 3.96481 23.5528 4.10557L4.55279 13.6056C4.214 13.775 4 14.1212 4 14.5V43C4 43.5523 4.44772 44 5 44H17H24H31H43C43.5523 44 44 43.5523 44 43V38.75C44 38.1977 43.5523 37.75 43 37.75C42.4477 37.75 42 38.1977 42 38.75V42H31.99V29.95C31.99 28.8846 31.1291 28 30.04 28H24H17.95C16.8846 28 16 28.8609 16 29.95V42H6V15.118L24 6.11803L42 15.118V33.75C42 34.3023 42.4477 34.75 43 34.75C43.5523 34.75 44 34.3023 44 33.75V14.5C44 14.1212 43.786 13.775 43.4472 13.6056L24.4472 4.10557ZM23 30H18V42H23V30ZM25 42V30H29.99V42H25ZM12 17C12 16.4477 12.4477 16 13 16H35C35.5523 16 36 16.4477 36 17V22C36 22.5523 35.5523 23 35 23H23C22.4477 23 22 22.5523 22 22C22 21.4477 22.4477 21 23 21H34V18H14V21H16C16.5523 21 17 21.4477 17 22C17 22.5523 16.5523 23 16 23H13C12.4477 23 12 22.5523 12 22V17Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const pianoIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M19.15 4C10.4788 4 4 10.2206 4 18.4873C4 19.0398 4.44772 19.4878 5 19.4878C5.55228 19.4878 6 19.0398 6 18.4873C6 11.4062 11.5012 6.001 19.15 6.001C22.9105 6.001 25.6166 7.59835 27.4768 9.6275C29.3604 11.6822 30.3599 14.1668 30.6444 15.8251C31.0768 18.3485 32.0465 21.1182 34.2177 22.7151L34.2262 22.7212C35.3325 23.5286 36.6888 24 38.34 24C38.3835 24 38.4264 23.9972 38.4685 23.9918C39.7213 24.0276 40.5497 24.5878 41.1029 25.3908C41.704 26.2632 42 27.4641 42 28.6523V31.994H36H31H21H16H11H6V22.9895C6 22.4369 5.55228 21.989 5 21.989C4.44772 21.989 4 22.4369 4 22.9895V31.994V33.995V40.9985C4 42.6516 5.34772 44 7 44H33.37C33.9223 44 34.37 43.5521 34.37 42.9995C34.37 42.4469 33.9223 41.999 33.37 41.999H7C6.45228 41.999 6 41.5465 6 40.9985V33.995H10V38.9975C10 39.5501 10.4477 39.998 11 39.998C11.5523 39.998 12 39.5501 12 38.9975V33.995H15V38.9975C15 39.5501 15.4477 39.998 16 39.998C16.5523 39.998 17 39.5501 17 38.9975V33.995H20V38.9975C20 39.5501 20.4477 39.998 21 39.998C21.5523 39.998 22 39.5501 22 38.9975V33.995H30V38.9975C30 39.5501 30.4477 39.998 31 39.998C31.5523 39.998 32 39.5501 32 38.9975V33.995H35V38.9975C35 39.5501 35.4477 39.998 36 39.998C36.5523 39.998 37 39.5501 37 38.9975V33.995H42V40.9985C42 41.5465 41.5477 41.999 41 41.999H38.71C38.1577 41.999 37.71 42.4469 37.71 42.9995C37.71 43.5521 38.1577 44 38.71 44H41C42.6523 44 44 42.6516 44 40.9985V33.995V31.994V28.6523C44 27.1792 43.641 25.5487 42.7496 24.255C41.829 22.919 40.365 21.989 38.34 21.989C38.2952 21.989 38.251 21.9919 38.2078 21.9977C37.0274 21.9739 36.1259 21.6321 35.4002 21.1013L35.3969 21.0988C33.8715 19.9734 33.0228 17.863 32.6156 15.4868L32.6156 15.4866C32.2701 13.473 31.1096 10.63 28.9507 8.27496C26.7684 5.8944 23.5495 4 19.15 4ZM18 26.9915C17.4477 26.9915 17 27.4394 17 27.992C17 28.5445 17.4477 28.9925 18 28.9925H30C30.5523 28.9925 31 28.5445 31 27.992C31 27.4394 30.5523 26.9915 30 26.9915H18Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const puzzleIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M20.2728 42.8136C21.0375 43.5878 22.0637 44 23.1704 44C23.2308 44 23.2811 44 23.3415 43.9799C24.4784 43.9296 25.565 43.4571 26.4 42.6226L30.4546 38.6312C30.7062 39.7572 31.2595 40.7727 32.0644 41.577C33.3522 42.874 35.1733 43.5074 37.0547 43.3264C39.1273 43.1253 41.0087 41.9892 42.2261 40.1895C43.7252 37.9676 43.7755 35.062 42.3569 32.9507C41.4816 31.6537 40.1535 30.7589 38.6041 30.4271L42.6487 26.3854C44.3792 24.6461 44.4597 21.9014 42.8197 20.2626L39.0569 16.5024C38.5438 15.9896 37.7992 15.7986 37.095 15.9896C36.3907 16.1807 35.8675 16.7236 35.6965 17.4274C35.4148 18.5735 34.7004 19.6091 33.6943 20.3229C32.155 21.4188 30.1428 21.5394 28.694 20.6145C27.6174 19.9308 26.9433 18.855 26.8025 17.5882C26.6415 16.1706 27.1848 14.6927 28.2513 13.627C28.8851 12.9835 29.6799 12.5311 30.5452 12.3099C31.2495 12.1289 31.8129 11.586 32.0041 10.8923C32.2053 10.1885 32.0041 9.45457 31.4909 8.94181L27.7281 5.18163C26.5409 3.99526 24.7299 3.67354 23.11 4.34715C22.5969 4.55828 22.3555 5.15147 22.5667 5.66422C22.7881 6.17697 23.3817 6.41827 23.8848 6.20714C24.75 5.84519 25.7058 6.00606 26.3095 6.60929L30.0623 10.3695C28.8449 10.6711 27.7281 11.3146 26.8327 12.2094C25.3134 13.7174 24.579 15.7584 24.8003 17.8094C25.0116 19.6996 26.0076 21.2981 27.6074 22.3136C29.7403 23.6709 32.658 23.5301 34.8513 21.9617C36.2498 20.9664 37.2358 19.5286 37.6282 17.9301L41.391 21.6902C42.2462 22.5448 42.1758 24.0127 41.22 24.9678L37.1755 29.0095C36.6623 29.5223 36.4712 30.2763 36.6724 30.9801C36.8837 31.6939 37.4672 32.2268 38.2017 32.3877C39.2279 32.6089 40.0932 33.192 40.6868 34.0767C41.6526 35.5144 41.6023 37.5152 40.556 39.0635C39.6807 40.3605 38.3224 41.1849 36.8535 41.3256C35.5757 41.4463 34.3382 41.024 33.473 40.1594C32.9397 39.6265 32.5775 38.9529 32.4065 38.1989C32.2455 37.4549 31.6922 36.8617 30.9778 36.6505C30.2735 36.4495 29.5391 36.6405 29.0159 37.1633L24.9714 41.205C24.4985 41.6775 23.8948 41.949 23.261 41.9691C22.6674 41.9892 22.0939 41.7781 21.6914 41.3759L17.9386 37.6258C19.156 37.3242 20.2728 36.6807 21.1683 35.7859C21.5606 35.3938 21.5606 34.7604 21.1683 34.3683C20.7759 33.9762 20.142 33.9762 19.7496 34.3683C19.1158 35.0118 18.321 35.4642 17.4557 35.6854C16.7514 35.8563 16.188 36.4093 15.9969 37.103C15.7956 37.8068 15.9969 38.5407 16.51 39.0535L20.2728 42.8136ZM8.94402 31.4925C9.32634 31.8745 9.84952 32.0857 10.3727 32.0857C10.5538 32.0857 10.7349 32.0555 10.9261 32.0153C11.6203 31.8243 12.1535 31.2814 12.3245 30.5776C12.6063 29.4314 13.3206 28.3959 14.3267 27.682C15.8661 26.5862 17.8682 26.4655 19.3271 27.3905C20.4942 28.1345 21.1884 29.351 21.2387 30.7485C21.2689 31.3015 21.7417 31.7237 22.285 31.7137C22.8384 31.6936 23.271 31.221 23.2509 30.6681C23.1704 28.607 22.1341 26.7872 20.4036 25.6914C18.2707 24.3341 15.3529 24.4748 13.1596 26.0432C11.7611 27.0386 10.7751 28.4763 10.3828 30.0749L6.61991 26.3147C6.21747 25.9025 6.00618 25.3495 6.02631 24.7463C6.04643 24.1129 6.31808 23.5097 6.79095 23.0371L10.8355 18.9954C11.3587 18.4726 11.5398 17.7387 11.3386 17.0349C11.1273 16.3211 10.5337 15.7681 9.78915 15.6072C9.03457 15.4464 8.36048 15.0744 7.82724 14.5415C6.96199 13.6769 6.53942 12.4402 6.66016 11.1634C6.80101 9.68544 7.62602 8.33821 8.9239 7.46352C10.4632 6.41791 12.4755 6.36763 13.9243 7.32276C14.8096 7.91594 15.3932 8.77053 15.6145 9.80609C15.7755 10.54 16.3087 11.1232 17.0231 11.3343C17.7173 11.5454 18.4719 11.3443 18.9951 10.8316L20.967 8.86102C21.3594 8.46891 21.3594 7.83551 20.967 7.44341C20.5746 7.05131 19.9408 7.05131 19.5484 7.44341L17.5764 9.39388C17.2444 7.86568 16.3389 6.53855 15.041 5.66386C12.9282 4.23619 10.0206 4.29652 7.79706 5.79456C5.99612 7.01109 4.85922 8.90123 4.658 10.9724C4.48696 12.8524 5.12081 14.6722 6.40863 15.9591C7.21352 16.7634 8.22969 17.3164 9.40683 17.5778L5.36227 21.6195C4.5272 22.4439 4.04427 23.5298 4.00403 24.6759C3.95372 25.8422 4.37629 26.928 5.18118 27.7323L8.94402 31.4925Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const museumIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M25.5303 4.41421C24.5807 3.86519 23.419 3.86519 22.4693 4.41421L22.4651 4.41666L5.51595 14.3262C2.83814 15.8882 3.9346 19.9999 7.04982 19.9999H9.06283C9.02213 20.1089 8.99988 20.2268 8.99988 20.3499V36.9999H7.99988C6.34759 36.9999 4.99988 38.3477 4.99988 39.9999V40.9999C4.99988 42.6522 6.34759 43.9999 7.99988 43.9999H39.9999C41.6522 43.9999 42.9999 42.6522 42.9999 40.9999V39.9999C42.9999 38.3477 41.6522 36.9999 39.9999 36.9999H38.9999V19.9999H40.9498C44.0478 19.9999 45.1678 15.8919 42.4837 14.3262L25.5346 4.41665L25.5303 4.41421ZM36.9999 36.9999V19.3499C36.9999 19.2298 37.021 19.1147 37.0599 19.008L37.0598 18.9999C37.0598 18.4477 37.5075 17.9999 38.0598 17.9999H40.9498C42.0118 17.9999 42.3919 16.588 41.476 16.0537L24.5293 6.14568L24.5275 6.14465C24.1981 5.95504 23.8015 5.95504 23.4721 6.14465L23.4703 6.14568L6.52455 16.0532C5.60236 16.5912 5.98505 17.9999 7.04982 17.9999H33.9998C34.5521 17.9999 34.9998 18.4477 34.9998 18.9999C34.9998 19.5522 34.5521 19.9999 33.9998 19.9999H10.9369C10.9776 20.1089 10.9999 20.2268 10.9999 20.3499V37.9999C10.9999 38.5522 10.5522 38.9999 9.99988 38.9999L7.99988 38.9999C7.45216 38.9999 6.99988 39.4522 6.99988 39.9999V40.9999C6.99988 41.5477 7.45216 41.9999 7.99988 41.9999H39.9999C40.5476 41.9999 40.9999 41.5477 40.9999 40.9999V39.9999C40.9999 39.4522 40.5476 38.9999 39.9999 38.9999H30.9999H14.5499C13.9976 38.9999 13.5499 38.5522 13.5499 37.9999C13.5499 37.4477 13.9976 36.9999 14.5499 36.9999H15.9999V23.3499C15.9999 22.7976 16.4476 22.3499 16.9999 22.3499C17.5522 22.3499 17.9999 22.7976 17.9999 23.3499V36.9999H22.9999V22.3499C22.9999 21.7976 23.4476 21.3499 23.9999 21.3499C24.5522 21.3499 24.9999 21.7976 24.9999 22.3499V36.9999H29.9999V23.9999C29.9999 23.4477 30.4476 22.9999 30.9999 22.9999C31.5522 22.9999 31.9999 23.4477 31.9999 23.9999V36.9999H36.9999ZM23.9999 13.4999C24.8283 13.4999 25.4999 12.8284 25.4999 11.9999C25.4999 11.1715 24.8283 10.4999 23.9999 10.4999C23.1715 10.4999 22.4999 11.1715 22.4999 11.9999C22.4999 12.8284 23.1715 13.4999 23.9999 13.4999Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const cardsIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M33.6527 7.07381C34.6509 6.80524 35.6822 7.40284 35.9491 8.40272L35.9491 8.40287L38.0201 16.1579C38.0412 16.2369 38.0712 16.3111 38.1085 16.3799H11.9634C9.67349 16.3799 7.98145 18.4185 7.98145 20.7195V24.9184V31.6836L4.06535 16.9838C3.79791 15.9817 4.39336 14.9463 5.38891 14.6781L8.34938 13.8848C8.88325 13.7417 9.20053 13.1912 9.05805 12.6552C8.91556 12.1192 8.36727 11.8006 7.8334 11.9437L4.87098 12.7375C2.8055 13.2933 1.57994 15.4323 2.13256 17.5038L6.07437 32.3001L6.07512 32.3029C6.36414 33.3754 7.07482 34.2227 7.98145 34.7147V38.6604C7.98145 40.947 9.65958 43 11.9634 43H42.0181C44.308 43 46 40.9614 46 38.6604V33.5373C46 32.9825 45.5521 32.5328 44.9995 32.5328C44.447 32.5328 43.999 32.9825 43.999 33.5373V38.6604C43.999 40.0561 43.0098 40.9909 42.0181 40.9909H11.9634C10.9656 40.9909 9.98242 40.0505 9.98242 38.6604V25.923H30.9927C31.5452 25.923 31.9932 25.4732 31.9932 24.9184C31.9932 24.3636 31.5452 23.9139 30.9927 23.9139H9.98242V20.7195C9.98242 19.3238 10.9717 18.389 11.9634 18.389H42.0081C43.0059 18.389 43.989 19.3294 43.989 20.7195V23.9139H38.9365C38.384 23.9139 37.936 24.3636 37.936 24.9184C37.936 25.4732 38.384 25.923 38.9365 25.923H43.989V26.8069C43.989 27.3617 44.437 27.8115 44.9895 27.8115C45.5421 27.8115 45.99 27.3617 45.99 26.8069V20.7195C45.99 18.4329 44.3119 16.3799 42.0081 16.3799H39.8642C39.9835 16.1611 40.0223 15.8975 39.9528 15.6375L37.8819 7.88269L37.8818 7.88255C37.3283 5.80875 35.1982 4.57818 33.1351 5.13314L33.1348 5.13321L13.8857 10.3065C13.3519 10.4499 13.035 11.0007 13.1779 11.5366C13.3208 12.0725 13.8693 12.3907 14.4031 12.2472L33.6525 7.07388L33.6527 7.07381ZM14.1443 36.1692C13.5917 36.1692 13.1438 36.6189 13.1438 37.1737C13.1438 37.7285 13.5917 38.1783 14.1443 38.1783H21.1477C21.7003 38.1783 22.1482 37.7285 22.1482 37.1737C22.1482 36.6189 21.7003 36.1692 21.1477 36.1692H14.1443Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const theaterIcon = L.divIcon({
      html: `<svg
          width="48"
          height="48"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M3 6C2.44772 6 2 6.44772 2 7V41C2 41.5523 2.44772 42 3 42C3.13814 42 3.26973 41.972 3.38941 41.9213C3.56392 41.9728 3.7487 42.0004 3.94 42.0004H5.68C6.23228 42.0004 6.68 41.5527 6.68 41.0004C6.68 40.4481 6.23228 40.0004 5.68 40.0004H4V29H6C6.61393 29 7.16194 29.2892 7.685 29.9492C8.22538 30.6311 8.68019 31.6457 9.03848 32.8997C9.75246 35.3987 10 38.5449 10 41C10 41.5523 10.4477 42.0004 11 42.0004H44.06C44.0738 42.0004 44.0875 42.0003 44.1012 42H45C45.5523 42 46 41.5523 46 41V7C46 6.44772 45.5523 6 45 6H28C27.4477 6 27 6.44772 27 7C27 12.3016 29.6329 17.7605 32.7 21.85C34.2421 23.9061 35.9255 25.6591 37.5043 26.909C38.1062 27.3855 38.7026 27.7967 39.2792 28.1248C39.0893 28.3039 38.9122 28.4993 38.7475 28.707C37.9754 29.6814 37.4302 30.9793 37.0385 32.3503C36.9718 32.5837 36.9089 32.8216 36.8497 33.0629C36.7409 33.0222 36.623 33 36.5 33H19C18.4477 33 18 33.4477 18 34C18 34.5523 18.4477 35 19 35H36.4595C36.1832 36.6978 36.0514 38.451 36.0126 40.0004H11.9874C11.9486 38.451 11.8168 36.6978 11.5405 35H14C14.5523 35 15 34.5523 15 34C15 33.4477 14.5523 33 14 33H11.5C11.377 33 11.2591 33.0222 11.1503 33.0629C11.0911 32.8216 11.0282 32.5837 10.9615 32.3503C10.5698 30.9793 10.0246 29.6814 9.2525 28.707C9.08783 28.4993 8.91066 28.3039 8.72078 28.1248C9.29738 27.7967 9.89384 27.3855 10.4957 26.909C12.0745 25.6591 13.7579 23.9061 15.3 21.85C18.1746 18.0173 20.6677 12.9817 20.9694 8H23.04C23.5923 8 24.04 7.55228 24.04 7C24.04 6.44772 23.5923 6 23.04 6H3ZM4.30561 27C4.32444 26.9868 4.35019 26.9673 4.3831 26.939C4.52657 26.8159 4.72222 26.5978 4.95998 26.2602C5.43201 25.59 5.97775 24.5821 6.53566 23.3006C7.64795 20.7458 8.75295 17.2327 9.4047 13.4692C9.49894 12.925 10.0165 12.5602 10.5607 12.6545C11.1049 12.7487 11.4696 13.2663 11.3754 13.8104C10.6971 17.7269 9.54712 21.3938 8.36941 24.099C7.92936 25.1098 7.47756 26.0045 7.03493 26.7356C7.12306 26.6981 7.21521 26.6561 7.31137 26.6091C7.88586 26.3287 8.54348 25.9037 9.2543 25.341C10.6755 24.2159 12.2421 22.5939 13.7 20.65C16.4258 17.0156 18.6628 12.4047 18.9652 8H4V27H4.30561ZM44 29V40H38.0133C38.0731 37.7297 38.3413 35.0705 38.9615 32.8997C39.3198 31.6457 39.7746 30.6311 40.315 29.9492C40.8381 29.2892 41.3861 29 42 29H44ZM43.3582 26.6743C43.5104 26.8517 43.6239 26.9513 43.694 27H44V8H38.0158C38.0728 9.82082 38.2808 11.6651 38.5951 13.4683C38.69 14.0124 38.3258 14.5303 37.7817 14.6251C37.2376 14.72 36.7197 14.3558 36.6249 13.8117C36.2936 11.9112 36.0724 9.95045 36.0149 8H29.0348C29.3372 12.4047 31.5742 17.0156 34.3 20.65C35.7579 22.5939 37.3245 24.2159 38.7457 25.341C39.4565 25.9037 40.1141 26.3287 40.6886 26.6091C40.7843 26.6559 40.8761 26.6977 40.9638 26.7351C40.8103 26.4816 40.6571 26.2107 40.505 25.9253C39.6159 24.257 38.6902 21.9515 37.9113 19.3243C37.7543 18.7948 38.0562 18.2383 38.5857 18.0813C39.1152 17.9243 39.6717 18.2262 39.8287 18.7557C40.5798 21.2885 41.4591 23.463 42.27 24.9847C42.6779 25.75 43.0501 26.3154 43.3582 26.6743Z"
          />
        </svg>`,
      className: `${styles['icon']}`,
      iconSize: [12, 12],
      iconAnchor: [12, 12],
    })

    const icons = {
      BEAUX_ARTS: pictureIcon,
      MUSIQUE_ENREGISTREE: musicIcon,
      LIVRE: libraryIcon,
      PRATIQUE_ART: artIcon,
      FILM: cinemaIcon,
      MUSIQUE_LIVE: microphoneIcon,
      CONFERENCE: centerIcon,
      INSTRUMENT: pianoIcon,
      JEU: puzzleIcon,
      MUSEE: museumIcon,
      CARTE_JEUNES: cardsIcon,
      CINEMA: cinemaIcon,
      SPECTACLE: theaterIcon,
    }

    L.tileLayer(
      'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',
      {
        attribution:
          'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, Tiles &copy; <a href="https://carto.com/">CARTO</a>',
        subdomains: 'abcd',
      }
    ).addTo(map)

    if (markers) {
      for (const marker of markers) {
        L.marker([marker.latitude, marker.longitude], {
          icon: icons[marker.placeType],
        })
          .addTo(map)
          .bindPopup(`${marker.name} - ${marker.placeType}`)
      }
    }

    return () => {
      map.remove()
    }
  }, [latitude, longitude, markers])

  // @ts-expect-error - mapRef type is incorrerect
  return <div ref={mapRef} className={styles['map']}></div>
}

export default Map
